resource "google_dataplex_zone" "<%= ctx[:primary_resource_id] %>" {
  name          = "<%= ctx[:vars]["name"] %>"
  discovery_spec {
    enabled = false
  }

  lake     = google_dataplex_lake.basic.name
  location = "us-central1"

  resource_spec {
    location_type = "MULTI_REGION"
  }

  type         = "RAW"
  description  = "Test Zone"
  display_name = "Test Zone"
  labels       = {}
  project      = "<%= ctx[:test_env_vars]['project_name'] %>"
}

resource "google_dataplex_lake" "basic" {
  location     = "us-central1"
  name         = "lake"
  description  = "Test Lake"
  display_name = "Test Lake"

  labels = {
    my-lake = "exists"
  }

  project = "<%= ctx[:test_env_vars]['project_name'] %>"
}

